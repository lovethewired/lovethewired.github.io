(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[232],{46409:function(e,s,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/bulk-transfer",function(){return t(94640)}])},94640:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return m}});var n=t(85893),a=t(67294),l=t(84419),r=t(8198),i=t(64146),c=t(19485),d=t(73138),o=t(67814),u=t(51436);let f="0x91B1eabE9E32568A6F0104921daB13bd0fE3D258",h=new r.vU(["function transferBulk(address to, address token, uint256[] ids)","function transferBulk(address to, address[] token, uint256[] ids)"]),p=new i.CH(f,h),x=new r.vU(["function name() public view returns (string memory)","function isApprovedForAll(address user, address operator) public view returns (bool)","function setApprovalForAll(address operator, bool approved) public"]);function m(){let[e,s]=(0,a.useState)(""),[t,r]=(0,a.useState)(""),[h,m]=(0,a.useState)(""),[v,j]=(0,a.useState)(""),[b,g]=(0,a.useState)(null),[N,w]=(0,a.useState)(!1),[C,k]=(0,a.useState)(!1),[A,E]=(0,a.useState)(""),[I,y]=(0,a.useState)(""),[S,_]=(0,a.useState)([]),[T,F]=(0,a.useState)(!1),{handleTx:B,handleTxError:z}=(0,d.mS)(),X=(0,l.HM)(),G=(0,l.yw)(),O=null==G?void 0:G.getSigner(),H=(0,l.TJ)(G),L=(0,l.pC)(),K=(0,l.xh)(1),P=(0,l.st)(L,h),R=(0,l.st)(L,v);(0,a.useEffect)(()=>{if(t)try{m(c.Kn(t))}catch(e){m(""),y(e.message)}},[t]);let U=()=>{b.connect(O).isApprovedForAll(X,f).then(w).catch(e=>y(e.message))};return(0,a.useEffect)(()=>{if(e)try{let s=c.Kn(e);j(s);let t=new i.CH(s,x);window.contract=t.connect(O),g(t),t.connect(O).name().then(k).catch(e=>y(e.message)),t.connect(O).isApprovedForAll(X,f).then(w).catch(e=>y(e.message))}catch(e){j(""),k(""),y(e.message)}},[e]),(0,a.useEffect)(()=>{let e=A.replace(/[,\n\s]/g,",").split(",").filter(e=>""!==e).sort((e,s)=>e-s);_(e=(e=e.filter((s,t)=>e.indexOf(s)==t)).map(e=>parseInt(e)).filter(e=>isFinite(e)))},[A]),(0,n.jsxs)("div",{className:"content",children:[(0,n.jsx)("h1",{className:"text-center mb-12",children:"ERC721 Bulk Transfer"}),(0,n.jsx)("div",{className:"mt-4 text-slate-300",children:(0,n.jsxs)("div",{className:"sm:order-1",children:[(0,n.jsxs)("div",{className:"flex items-end gap-4 mb-4",children:[(0,n.jsx)(l.II,{label:"Connected",value:H||X,children:(0,n.jsx)(l.zx,{variant:"text",className:"py-0",disabled:!(0,l.st)(L,X),children:(0,n.jsx)(l.dL,{href:(0,l.st)(L,X),children:(0,n.jsx)(o.G,{className:"fa-thin",icon:u.Xjp})})})}),(0,n.jsx)(l.II,{type:"select",className:"w-fit sm:w-full",label:"ChainId: "+L,value:L,onChange:e=>l.i8.activate(Number(e.target.value)),children:Object.entries(l.zG).filter(e=>{let[s]=e;return 1===s}).map(e=>{let[s,{name:t}]=e;return(0,n.jsx)("option",{value:s,children:t},s)})})]}),(0,n.jsxs)("div",{className:"flex items-end gap-4 mb-4",children:[(0,n.jsx)(l.II,{label:C||"ERC721 Address",value:e,onChange:e=>s(e.target.value),children:(0,n.jsx)(l.zx,{variant:"text",className:"py-1",disabled:!R,children:(0,n.jsx)(l.dL,{href:R,children:(0,n.jsx)(o.G,{className:"fa-thin",icon:u.Xjp})})})}),(0,n.jsx)(l.II,{label:"Transfer To",value:t,onChange:e=>r(e.target.value),children:(0,n.jsx)(l.zx,{variant:"text",className:"py-1",disabled:!P,children:(0,n.jsx)(l.dL,{href:P,children:(0,n.jsx)(o.G,{className:"fa-thin",icon:u.Xjp})})})})]}),(0,n.jsx)(l.II,{label:"Token Ids (comma/newline separated)",spellCheck:!1,inputClassName:"overflow-scroll resize-y",value:A,onChange:e=>E(e.target.value),type:"multiline"}),(0,n.jsx)("p",{className:"text-red-400 text-xs",children:I&&"Error: "+I}),(0,n.jsxs)("p",{children:["Ids to Transfer: ",null==S?void 0:S.join(",")]}),(0,n.jsx)("div",{className:"flex justify-center mt-4",children:(0,n.jsx)(l.fl,{loading:T,disabled:!v||!C||N&&!((null==S?void 0:S.length)!=0)||!h,onClick:K(N?()=>{F(!0),p.connect(O).functions["transferBulk(address,address,uint256[])"](t,e,S).then(B).catch(z).finally(()=>F(!1))}:()=>{F(!0),b.connect(O).setApprovalForAll(f,!0).then(B).then(U).catch(z).finally(()=>F(!1))}),children:N?T?"Transferring":"Transfer":T?"Approving":"Approve"})})]})})]})}}},function(e){e.O(0,[774,888,179],function(){return e(e.s=46409)}),_N_E=e.O()}]);