(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[44],{82050:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/enc-message",function(){return n(39697)}])},39697:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return d},Encrypt:function(){return x},Decrypt:function(){return y}});var r=n(34051),a=n.n(r),s=n(85893),c=n(67294),u=n(71015),i=n(45703),l=n(37466),o=n(29251),f=n(48764).Buffer;function p(e,t,n,r,a,s,c){try{var u=e[s](c),i=u.value}catch(l){return void n(l)}u.done?t(i):Promise.resolve(i).then(r,a)}function v(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var s=e.apply(t,n);function c(e){p(s,r,a,c,u,"next",e)}function u(e){p(s,r,a,c,u,"throw",e)}c(void 0)}))}}var h=n(51091);function d(){return(0,s.jsxs)("div",{className:"content",children:[(0,s.jsx)(x,{}),(0,s.jsx)(y,{})]})}function x(){var e=(0,u.ti)(),t=(0,u.Mu)(),n=(0,c.useState)(""),r=n[0],o=n[1],p=(0,c.useState)(""),d=p[0],x=p[1],y=(0,c.useState)(""),m=y[0],g=y[1],j=(0,c.useState)(""),N=j[0],b=j[1],_=function(){var e=v(a().mark((function e(){var t;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(d&&m){e.next=4;break}return o(""),b(""),e.abrupt("return");case 4:try{t=i.Dv(f.from(JSON.stringify(h.encryptSafely({publicKey:l.c(m),data:d,version:"x25519-xsalsa20-poly1305"})),"utf8")),b(t),o("")}catch(n){b(""),o(n.message)}case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();(0,c.useEffect)((function(){return _()}),[d,m]);return(0,s.jsxs)("div",{className:"mt-4 text-slate-300 space-y-2",children:[(0,s.jsx)("h1",{className:"text-center mb-12",children:"Encrypt Message"}),(0,s.jsx)(u.II,{label:"Public Key",value:m,onChange:function(e){return g(e.target.value)},children:(0,s.jsx)(u.zx,{onClick:function(){t.send("eth_getEncryptionPublicKey",[e]).then((function(e){g(i.Dv(l.J(e)))}))},children:"Request"})}),(0,s.jsx)(u.II,{label:"Message",spellCheck:!1,inputClassName:"overflow-scroll resize-y",value:d,onChange:function(e){return x(e.target.value)},type:"multiline"}),(0,s.jsx)(u.II,{label:"Encrypted Message",value:N}),r&&(0,s.jsx)("p",{className:"text-red-400",children:r})]})}function y(){var e=(0,u.ti)(),t=(0,u.Mu)(),n=(0,c.useState)(""),r=n[0],i=n[1],l=(0,c.useState)(""),f=l[0],p=l[1],d=(0,c.useState)(""),x=d[0],y=d[1],m=(0,c.useState)(""),g=m[0],j=m[1],N=function(){var e=v(a().mark((function e(){var t;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(f)try{t=h.decryptSafely({privateKey:(n=x,n.replace("0x","")),encryptedData:JSON.parse(o.ZN(f))}),j(t),i("")}catch(r){j(""),i(r.message)}else j(""),i("");case 1:case"end":return e.stop()}var n}),e)})));return function(){return e.apply(this,arguments)}}();(0,c.useEffect)((function(){return N()}),[f,x]);return(0,s.jsxs)("div",{className:"mt-4 text-slate-300 space-y-2",children:[(0,s.jsx)("h1",{className:"text-center mb-12",children:"Decrypt Message"}),(0,s.jsx)(u.II,{label:"Encrypted Message",spellCheck:!1,value:f,onChange:function(e){return p(e.target.value)}}),(0,s.jsx)(u.II,{label:"Private Key",spellCheck:!1,value:x,onChange:function(e){return y(e.target.value)},children:(0,s.jsx)(u.zx,{onClick:function(){var n;t.send("eth_decrypt",[(n=f,"0x"+n.replace("0x","")),e]).then(j)},children:"Decrypt"})}),(0,s.jsx)(u.II,{label:"Decrypted Message",value:g}),r&&(0,s.jsx)("p",{className:"text-red-400",children:r})]})}}},function(e){e.O(0,[774,888,179],(function(){return t=82050,e(e.s=t);var t}));var t=e.O();_N_E=t}]);