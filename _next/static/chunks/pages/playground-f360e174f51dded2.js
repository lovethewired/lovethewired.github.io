(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[311],{16759:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/playground",function(){return n(93066)}])},93066:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return v}});var r=n(85893),a=n(67294),l=n(90617),s=n(64146),c=n(84243),o=n(84109);n(41664);function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){u(e,t,n[t])}))}return e}function d(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},l=Object.keys(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function p(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,l=[],s=!0,c=!1;try{for(n=n.call(e);!(s=(r=n.next()).done)&&(l.push(r.value),!t||l.length!==t);s=!0);}catch(o){c=!0,a=o}finally{try{s||null==n.return||n.return()}finally{if(c)throw a}}return l}}(e,t)||h(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e){return function(e){if(Array.isArray(e))return i(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||h(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e,t){if(e){if("string"===typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,t):void 0}}function x(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1e3,t=(0,a.useState)(),n=t[0],r=t[1],l=(0,a.useState)(),s=l[0],c=l[1],o=function(e){return c((function(){return e}))};return(0,a.useEffect)((function(){return n&&clearTimeout(n),r(setTimeout(s,e)),function(){return clearTimeout(n)}}),[s]),o}function v(){var e=(0,a.useState)("0xF284b8A83E7929daA2e4B9ba21863F57d5b80feC"),t=e[0],n=e[1],c=(0,a.useState)("function getCommentsByUser(address user) external view returns (Comment[] memory)"),o=c[0],i=c[1],u=(0,a.useState)(""),d=u[0],m=u[1],h=(0,a.useState)(),v=h[0],g=h[1],j=(0,a.useState)(null),S=j[0],w=j[1],N=(0,l.pC)(),C=x();return(0,a.useEffect)((function(){window.contract=v}),[v]),(0,a.useEffect)((function(){C((function(){if(m(""),t&&o)try{var e=o.split("\n").filter((function(e){return e.length>4})).map((function(e){return"function "+e.replace("function ","")}));g(new s.CH(t,e))}catch(n){m(n.message)}}))}),[o,t]),(0,r.jsxs)("div",{className:"flex flex-col gap-y-4 text-slate-300",children:[(0,r.jsx)(l.II,{type:"select",label:"ChainId: "+N,value:N,onChange:function(e){return l.i8.activate(Number(e.target.value))},children:Object.entries(l.zG).map((function(e){var t=p(e,2),n=t[0],a=t[1].name;return(0,r.jsx)("option",{value:n,children:a},n)}))}),(0,r.jsx)("div",{className:"flex",children:(0,r.jsx)(l.II,{label:"Address",value:t,onChange:function(e){return n(e.target.value)}})}),(0,r.jsx)(l.II,{inputClassName:"overflow-scroll resize-y",label:"ABI",value:o,onChange:function(e){return i(e.target.value)},type:"multiline"}),d&&(0,r.jsxs)("p",{className:"text-red-400",children:["Error: ",d]}),(0,r.jsx)("div",{className:"mt-8",children:v&&v.interface.fragments.filter((function(e){return"function"===e.type})).map((function(e,t){return(0,r.jsx)(b,f({contract:v,setTxDataInfo:w},e),t)}))}),S&&(0,r.jsx)(y,f({contract:v,address:t},S))]})}function y(e){var t,n,s=e.contract,c=e.address,i=e.name,u=e.inputs,f=e.outputs,d=e.encoded,p=e.sighash,h=(0,a.useState)(""),x=h[0],v=h[1],y=(0,a.useState)(""),b=y[0],j=y[1],S=(0,a.useState)(""),w=S[0],N=S[1],C=(0,a.useState)([]),I=C[0],E=C[1],O=(0,a.useState)(""),_=O[0],A=O[1],T=(0,o.mS)(),k=(T.handleTx,T.handleTxError),P=(0,l.pC)();(0,a.useEffect)((function(){try{w&&(null===f||void 0===f?void 0:f.length)>0?(console.log({response:w,outputs:f}),E(s.interface.decodeFunctionResult(p,w))):E([])}catch(e){A(e.message)}}),[w,f]),(0,a.useEffect)((function(){E([])}),[p]),(0,a.useEffect)((function(){v(p+"\n"+d.map((function(e){return e.slice(2)})).join("\n"))}),[d]);var D=function(e){var t=x.replaceAll("\n","");window.ethereum.request({method:"call"===e?"eth_call":"eth_sendTransaction",params:[{to:c,data:t},"latest"]}).then(N).catch(k)};return(0,r.jsxs)("div",{className:"pt-8 flex flex-col",children:[(0,r.jsx)("p",{children:"Low-level Call"}),(0,r.jsxs)("div",{className:"flex",children:[(0,r.jsx)(l.zx,{variant:"text",onClick:function(){return D("call")},children:"Call"}),(0,r.jsx)(l.zx,{variant:"text",onClick:function(){return D("send")},children:"Send"}),(0,r.jsx)(l.II,{value:b,onChange:function(e){return j(e.target.value)},inputClassName:"text-right",placeholder:"value",children:(0,r.jsx)("span",{className:"ml-1 text-slate-500",children:(null===(t=l.zG[P])||void 0===t||null===(n=t.nativeCurrency)||void 0===n?void 0:n.symbol)||"\u039e"})})]}),(0,r.jsx)("p",{className:"",children:i}),(0,r.jsxs)("div",{className:"text-xs md:text-base flex",children:[(0,r.jsx)("div",{className:"flex flex-col text-right text-slate-400",children:[{type:"selector"}].concat(m(u)).map((function(e,t){e.name;var n=e.type;return(0,r.jsx)("span",{children:n},t)}))}),(0,r.jsx)(l.II,{type:"multiline",inputClassName:"whitespace-nowrap",value:x,onChange:function(e){return v(e.target.value)}})]}),(0,r.jsx)(g,{response:w,responseDecoded:I,outputs:f}),_&&(0,r.jsxs)("p",{className:"text-red-400",children:["Error: ",_]})]})}function g(e){var t=e.response,n=e.responseDecoded,a=e.outputs,s=(0,l.pC)();return(0,r.jsx)("div",{children:t&&(0,r.jsxs)("div",{className:"text-xs md:text-base overflow-scroll",children:[(0,r.jsx)("p",{className:"mt-4",children:"Response"}),(0,r.jsx)("p",{children:t}),(0,r.jsx)("p",{className:"mt-4",children:"Decoded"}),(null===a||void 0===a?void 0:a.length)>0&&(null===n||void 0===n?void 0:n.length)>0&&a.map((function(e,t){var a=e.type;return(0,r.jsx)("div",{children:(0,r.jsx)("span",{before:a,className:"text-slate-300 before:text-slate-400 before:mr-2 before:content-[attr(before)]",children:"address"===a?(0,r.jsx)("a",{target:"_blank",rel:"noreferrer",href:(0,l.st)(n[t],s),children:n[t].toString()}):n[t].toString()})},t)}))]})})}function b(e){var t=e.contract,n=e.setTxDataInfo,s=e.name,i=e.inputs,u=e.constant,f=e.outputs,p=(e.payable,(0,a.useState)([])),h=p[0],v=p[1],y=(0,a.useState)(""),g=y[0],b=y[1],S=(0,a.useState)(""),w=S[0],N=S[1],C=x(500),I=(0,l.yw)(),E=null===I||void 0===I?void 0:I.getSigner(),O=(0,o.mS)(),_=O.handleTx,A=O.handleTxError;(0,a.useEffect)((function(){b(""),h.length===i.length&&h.every(Boolean)&&C((function(){try{var e=i.map((function(e,t){var n=e.type;return c.$.encode([n],[h[t]])})),r="".concat(s,"(").concat(i.map((function(e){return e.type})),")"),a=t.interface.getSighash(r);n({name:s,inputs:i,encoded:e,sighash:a,outputs:f})}catch(l){b(function(e){return e.message.replace(/, code.*(?=\))/,"")}(l))}}))}),[h]);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"flex text-center flex-wrap items-center",children:[(0,r.jsx)(l.fl,{onClick:function(){var e,n;u?(e=t.connect(E).callStatic)[s].apply(e,m(h)).then(N).catch(A):(n=t.connect(E).functions)[s].apply(n,m(h)).then(_).catch(A)},className:"pl-0 pr-2 normal-case",variant:"text",children:s}),(0,r.jsx)("span",{className:"text-slate-500 sm:text-xl font-thin",children:"("}),i.length>0&&i.map((function(e,t){var n=e.name,a=e.type;d(e,["name","type"]);return(0,r.jsx)(l.II,{className:"align-text-bottom text-xs sm:text-base basis-20 flex-grow leading-5",placeholder:"".concat(a," ").concat(n),value:h[t],onChange:function(e){return v(j(h,t,e.target.value))}},t)})).reduce((function(e,t,n){return[e,(0,r.jsx)("span",{className:"text-slate-500 sm:text-xl",children:","},"c"+n),t]})),(0,r.jsx)("span",{className:"text-slate-500 sm:text-xl font-thin",children:")"})]}),w&&(0,r.jsx)("p",{className:"text-secondary-100",children:w.toString()}),g&&(0,r.jsx)("p",{className:"text-red-400",children:g})]})}var j=function(e,t,n){var r=m(e);return r[t]=n,r}}},function(e){e.O(0,[774,888,179],(function(){return t=16759,e(e.s=t);var t}));var t=e.O();_N_E=t}]);